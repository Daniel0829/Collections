[General]
# --- GENERAL ---
# Enhanced Wi-Fi Assist
wifi-assist = true

# Hybrid Network
all-hybrid = false

# Gaming Optimization
udp-priority = false

# Latency Benchmark
internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://1.1.1.1/generate_204
test-timeout = 5

# GeoIP Database
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
ipv6 = false

# --- Wi-Fi ACCESS ---
allow-wifi-access = false

# Surge iOS - é»˜è®¤ HTTP ç«¯å£å·ï¼š6152ï¼ŒSOCKS5 ç«¯å£å·ï¼š6153
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153

# Surge Mac - é»˜è®¤ HTTP ç«¯å£å·ï¼š6152ï¼ŒSOCKS5 ç«¯å£å·ï¼š6153
http-listen = 0.0.0.0
socks5-listen = 0.0.0.0

# å…è®¸çƒ­ç‚¹å…±äº«
allow-hotspot-access = true

# --- REMOTE CONTROLLER ---
external-controller-access = Daniel@0.0.0.0:6160

# HTTP API & Web Dashboard
# This option allows using HTTP APIs to control
http-api = Daniel@0.0.0.0:6166
http-api-tls = true
http-api-web-dashboard = true

# --- COMPATIBILITY ---
compatibility-mode = 0

# è·³è¿‡ä»£ç†
skip-proxy = localhost, *.local, injections.adguard.org, local.adguard.org, captive.apple.com, guzzoni.apple.com, 0.0.0.0/8, 10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32
exclude-simple-hostnames = true

# --- DNS ---
# The IP addresses of upstream DNS servers
read-etc-hosts = true
use-local-host-item-for-proxy = true
encrypted-dns-follow-outbound-mode = false
include-all-networks = false

# --- ROUTING ---
include-local-networks = false
loglevel = notify

# --- ADVANCED ---
show-error-page-for-reject = true
always-real-ip = link-ip.nextdns.io, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
force-http-engine-hosts = *.ott.cibntv.net, 123.59.31.1,119.18.193.135, 122.14.246.33, 175.102.178.52, 116.253.24.*, 175.6.26.*, 220.169.153.*
use-default-policy-if-wifi-not-primary = false
udp-policy-not-supported-behaviour = REJECT
ipv6-vif = auto
dns-server = 223.5.5.5, 223.6.6.6, system

[Proxy]
Direct = direct
Reject = reject

[Proxy Group]
Proxy = select, AllServer, Automatic, Fallback, Smart(HK), Smart(TW), Smart(SG), Smart(JP), Smart(US), Smart(UK), Smart(KR), Australia, France, German, Canada, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png

AllServer = select, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, include-other-group="", policy-regex-filter=^((?!Remain|Expired|å®˜ç½‘|å¦‚éœ€|å¥—é¤|åŽ»é™¤|å‰©ä½™|è·ç¦»|Reset|é‡ç½®|æµé‡).)+$, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Round_Robin.png
NoAuto = select, Mainland, Automatic, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Reject.png
Automatic = select, Smart(HK), Smart(TW), Smart(JP), Smart(SG), Smart(US), no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/SSID_1.png
Fallback = select, Smart(HK), Smart(TW), Smart(JP), Smart(SG), Smart(US), interval=600, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hijacking.png
Apple = select, Mainland, Smart(HK), Smart(US), no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple_1.png
Bilibili = select, Mainland, Smart(HK), Smart(TW), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/bilibili.png
Disney+ = select, Smart(HK), Smart(SG), no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Disney.png
Netflix = select, Smart(HK), Smart(TW), Smart(SG), Smart(JP), Smart(US), no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix.png
Speedtest = select, Mainland, Automatic, AllServer, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Speedtest.png
Telegram = select, Automatic, Smart(SG), Smart(US), Smart(HK), Smart(TW), Smart(JP), no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png
TikTok = select, Smart(TW), Smart(SG), Smart(JP), Smart(US), no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TikTok_2.png
Twitter = select, Automatic, Smart(HK), Smart(TW), Smart(SG), Smart(JP), Smart(US), no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Twitter.png
YouTube = select, Automatic, Smart(HK), Smart(TW), Smart(SG), Smart(JP), Smart(US), no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png
AI = select, Smart(US), Smart(JP), Smart(SG), no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ChatGPT.png
Microsoft = select, Mainland, Smart(HK), Smart(SG), Smart(US), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png
OneDrive = select, Mainland, Smart(HK), Smart(SG), Smart(US), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/OneDrive.png
WeChat = select, Mainland, Smart(HK), Smart(SG), Smart(US), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/WeChat.png
Spotify = select, Smart(HK), Smart(SG), Smart(US), no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Spotify.png

Smart(HK) = smart, update-interval=0, policy-regex-filter=(ðŸ‡­ðŸ‡°)|(æ¸¯)|(Hong), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
Smart(TW) = smart, update-interval=0, policy-regex-filter=(ðŸ‡¨ðŸ‡³)|(å°)|(Tai)|(TW), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png
Smart(JP) = smart, update-interval=0, policy-regex-filter=(ðŸ‡¯ðŸ‡µ)|(æ—¥)|(Smart(JP))|(JP), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
Smart(SG) = smart, update-interval=0, policy-regex-filter=(ðŸ‡¸ðŸ‡¬)|(æ–°)|(Smart(SG))|(SG), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
Smart(US) = smart, update-interval=0, policy-regex-filter=(ðŸ‡ºðŸ‡¸)|(ç¾Ž)|(States)|(US), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
Smart(UK) = smart, update-interval=0, policy-regex-filter=(ðŸ‡¬ðŸ‡§)|(è‹±)|(London)|(UK), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_Kingdom.png
Smart(KR) = smart, update-interval=0, policy-regex-filter=(ðŸ‡°ðŸ‡·)|(éŸ©)|(Seoul)|(KR), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png
United States = fallback, update-interval=0, policy-regex-filter=(ðŸ‡ºðŸ‡¸)|(ç¾Ž)|(States)|(US), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Boslife, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
Australia = fallback, update-interval=0, policy-regex-filter=(ðŸ‡¦ðŸ‡º)|(æ¾³)|(Sydney)|(AU), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Australia.png
France = fallback, update-interval=0, policy-regex-filter=(ðŸ‡«ðŸ‡·)|(æ³•)|(Paris)|(FR), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/France.png
German = fallback, update-interval=0, policy-regex-filter=(ðŸ‡©ðŸ‡ª)|(å¾·)|(Frankfurt)|(DE), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Germany.png
Canada = fallback, update-interval=0, policy-regex-filter=(ðŸ‡¨ðŸ‡¦)|(æ‹¿)|(Canada)|(CA), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=AllServer, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Canada.png
Mainland = select, DIRECT, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png

[Rule]
DOMAIN-SUFFIX,framer.website,Smart(HK) // Added for: lokki.framer.website:443
# > KEYWORD
DOMAIN-KEYWORD,docker,Automatic
DOMAIN-KEYWORD,mastodon,Automatic // Added for: files.mastodon.social:443

# > SUFFIX
DOMAIN-SUFFIX,nssurge.com,Automatic // Added for: nssurge.com:443
DOMAIN-SUFFIX,surgee.me,Automatic
DOMAIN-SUFFIX,st7eve.me,Automatic
DOMAIN-SUFFIX,cloudflare.com,Automatic // Added for: www.cloudflare.com:443

# > DOMAIN
DOMAIN,testflight.apple.com,DIRECT
DOMAIN,jable.tv,Automatic // Added for: jable.tv:80
DOMAIN,testflight.apple.com,DIRECT
DOMAIN,api.amplitude.com,Automatic
DOMAIN,api.revenuecat.com,REJECT
DOMAIN,m.cmx.im,Automatic // Added for: m.cmx.im:443

# > Adblock4limbo
# RULE-SET,https://limbopro.com/Adblock4limbo_surge.list,REJECT

# > ChinaDNS
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaDNS/ChinaDNS.list,DIRECT

# > China
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China.list,DIRECT

# > Github
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,Automatic

# > OneDrive
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OneDrive/OneDrive.list,OneDrive

# > Facebook
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Facebook/Facebook.list,Automatic

# > Threads
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Threads/Threads.list,Automatic

# > Instagram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Instagram/Instagram.list,Automatic

# > Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppStore/AppStore.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppleTV/AppleTV.list,Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AppleNews/AppleNews.list,Smart(US)
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,Apple

# > WeChat
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WeChat/WeChat.list,WeChat
# è…¾è®¯ WeChat ASN
IP-ASN,132203,WeChat,no-resolve
IP-ASN,56040,WeChat,no-resolve
IP-ASN,45090,WeChat,no-resolve

# > Emby
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Emby/Emby.list,AllServer

# > Discord
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Discord/Discord.list,Automatic

# > Bing
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Bing/Bing.list,AI

# > Tesla
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Tesla/Tesla.list,DIRECT

# > Twitter
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,Twitter

# > Safari é˜²è·³è½¬
DOMAIN,app-site-association.cdn-apple.com,REJECT

# > ban UDP on Youtube
AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP

# > ban National Anti-fraud Center
DOMAIN,prpr.96110.cn.com,DIRECT
DOMAIN-KEYWORD,96110,REJECT
DOMAIN-SUFFIX,gjfzpt.cn,REJECT

# > Vercel --> sub-store
RULE-SET,https://raw.githubusercontent.com/getsomecat/GetSomeCats/Surge/rule/substore.list,Automatic
DOMAIN-SUFFIX,vercel.app,Automatic

# > > Direct(Google|Proxy|Download)
RULE-SET,https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Direct.list,DIRECT

# Spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,Spotify

# > > Mail
DOMAIN-SUFFIX,smtp,Automatic
URL-REGEX,(Subject|HELO|SMTP),Automatic

# > > Unbreak åŽç»­è§„åˆ™ä¿®æ­£
RULE-SET,https://raw.githubusercontent.com/GoodHolidays/ConnersHua/master/Surge/Ruleset/Unbreak.list,DIRECT

# > æµåª’ä½“
# > Disney+
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,Disney+

# > Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Netflix

# > TikTok
RULE-SET,https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Surge/TikTok.list,TikTok

# > åŒ—ç¾Žç›¸å…³æµåª’ä½“
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_us.conf,Smart(US)
RULE-SET,https://ruleset.skk.moe/List/ip/stream_us.conf,Smart(US)

# > æ¬§æ´²ç›¸å…³æµåª’ä½“
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_eu.conf,Smart(UK)
RULE-SET,https://ruleset.skk.moe/List/ip/stream_eu.conf,Smart(UK)

# > æ—¥æœ¬ç›¸å…³æµåª’ä½“
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_jp.conf,Smart(JP)
RULE-SET,https://ruleset.skk.moe/List/ip/stream_jp.conf,Smart(JP)

# > éŸ©å›½ç›¸å…³æµåª’ä½“
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_kr.conf,Smart(KR)
RULE-SET,https://ruleset.skk.moe/List/ip/stream_kr.conf,Smart(KR)

# > é¦™æ¸¯ç›¸å…³æµåª’ä½“
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_hk.conf,Smart(HK)
RULE-SET,https://ruleset.skk.moe/List/ip/stream_hk.conf,Smart(HK)

# > å°æ¹¾ç›¸å…³æµåª’ä½“
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_tw.conf,Smart(TW)
RULE-SET,https://ruleset.skk.moe/List/ip/stream_tw.conf,Smart(TW)

# > æ‰€æœ‰æµåª’ä½“ï¼ˆåŒ…æ‹¬ä¸Šè¿°æ‰€æœ‰æµåª’ä½“ï¼‰
# RULE-SET,https://ruleset.skk.moe/List/non_ip/stream.conf,Automatic

# RULE-SET,https://ruleset.skk.moe/List/ip/stream.conf,Automatic
# > Bilibili
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,Bilibili

# > Speedtest
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Speedtest/Speedtest.list,Speedtest

# > Youtube & Google Search
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,Automatic
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GoogleSearch/GoogleSearch.list,YouTube

# > Local Area Network å±€åŸŸç½‘
RULE-SET,LAN,DIRECT

# > ASN China åˆ†æµ
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list,DIRECT

# > pikpak
DOMAIN-SUFFIX,mypikpak.com,Smart(US) // Added for: api-drive.mypikpak.com:443

# > PayPal
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list,United States

# > Roit æ¸¸æˆåˆ†æµè§„åˆ™
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Riot/Riot.list,Smart(US)

# > Test
# > Non IP
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-drop.conf,REJECT-DROP
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject.conf,REJECT-TINYGIF
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject.conf,REJECT

# > IP
RULE-SET,https://ruleset.skk.moe/List/ip/reject.conf,REJECT-DROP

# > å¸¸è§é™æ€ CDN
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/cdn.conf,Automatic
RULE-SET,https://ruleset.skk.moe/List/non_ip/cdn.conf,Automatic

# > AI åŒ…å« OpenAIã€Bardã€Claudeã€Perplexity ç­‰
DOMAIN-SUFFIX,googleapis.com,AI // Gemini
RULE-SET,https://ruleset.skk.moe/List/non_ip/ai.conf,AI

# > Telegram
# Telegram DC1
IP-ASN,59930,Smart(US),no-resolve
# Telegram DC3
IP-ASN,211157,Smart(US),no-resolve
# Telegram DC5
IP-ASN,62014,Smart(SG),no-resolve
RULE-SET,https://ruleset.skk.moe/List/non_ip/telegram.conf,Telegram
RULE-SET,https://ruleset.skk.moe/List/ip/telegram.conf,Telegram
RULE-SET,https://ruleset.skk.moe/List/ip/telegram_asn.conf,Telegram

# > Apple CDN
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/apple_cdn.conf,Apple

# > Apple Service
# RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_services.conf,Apple

# > Microsoft CDN
RULE-SET,https://ruleset.skk.moe/List/non_ip/microsoft_cdn.conf,Microsoft

# > Microsoft
RULE-SET,https://ruleset.skk.moe/List/non_ip/microsoft.conf,Microsoft

# > ç½‘æ˜“äº‘éŸ³ä¹
RULE-SET,https://ruleset.skk.moe/List/non_ip/neteasemusic.conf,Mainland
RULE-SET,https://ruleset.skk.moe/List/ip/neteasemusic.conf,Mainland

# > Misc
RULE-SET,https://ruleset.skk.moe/List/non_ip/domestic.conf,Mainland
RULE-SET,https://ruleset.skk.moe/List/non_ip/direct.conf,Mainland
RULE-SET,https://ruleset.skk.moe/List/non_ip/global_plus.conf,Automatic
RULE-SET,https://ruleset.skk.moe/List/non_ip/global.conf,Automatic
RULE-SET,https://ruleset.skk.moe/List/ip/domestic.conf,Mainland

# > è½¯ä»¶æ›´æ–°ã€æ“ä½œç³»ç»Ÿç­‰å¤§æ–‡ä»¶ä¸‹è½½
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/download.conf,Mainland
RULE-SET,https://ruleset.skk.moe/List/non_ip/download.conf,Mainland

# Blizzard è§„åˆ™
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Blizzard/Blizzard.list,Smart(TW)

# é˜²æ­¢åº”ç”¨å¾ªçŽ¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,Reject,no-resolve

# Wi-Fi Calling
RULE-SET,https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/T-Mobile.list,United States

# Local Area Network å±€åŸŸç½‘
RULE-SET,LAN,Direct

# >  å…œåº•è§„åˆ™
GEOIP,CN,Direct
FINAL,NoAuto,dns-failed

[Host]
*.taobao.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
*.alipay.com = server:223.5.5.5
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.jd.com = server:119.28.28.28
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
*.weixin.com = server:119.28.28.28
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
*testflight.apple.com = server:8.8.4.4

# > Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188

# > Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29

# Wifi-Calling
# epdg.epc.mnc260.mcc310.pub.3gppnetwork.org = server:208.54.36.3
# ss.epdg.epc.mnc260.mcc310.pub.3gppnetwork.org = server:208.54.88.35
# ss.epdg.epc.geo.mnc260.mcc310.pub.3gppnetwork.org = server:208.54.2.99

# > Router Admin Panel
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.synology.com = server:syslib // Synology Router
sila.razer.com = server:syslib // Razer Sila Router
router.asus.com = server:syslib // Asus Router
routerlogin.net = server:syslib // Netgear Router
orbilogin.com = server:syslib // Netgear Obri Router
www.LinksysSmartWiFi.com = server:syslib // Linksys Router
LinksysSmartWiFi.com = server:syslib // Linksys Router
myrouter.local = server:syslib // Linksys Router
www.miwifi.com = server:syslib // Xiaomi Mi WiFi Router
miwifi.com = server:syslib // Xiaomi Mi WiFi Router
mediarouter.home = server:syslib // Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // MERCURY Router
falogin.cn = server:syslib // FAST Router

[URL Rewrite]
# > Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302

# > Redirect Google Maps Service
^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302

# > Redirect HTTP to HTTPS
^https?:\/\/(www.)?taobao\.com\/ https://taobao.com/ 302
^https?:\/\/(www.)?jd\.com\/ https://www.jd.com/ 302
^https?:\/\/(www.)?mi\.com\/ https://www.mi.com/ 302
^https?:\/\/you\.163\.com\/ https://you.163.com/ 302
^https?:\/\/(www.)?suning\.com\/ https://suning.com/ 302
^https?:\/\/(www.)?yhd\.com\/ https://yhd.com/ 302

# > AbeamTV header
^https?:\/\/api\.abema\.io\/v\d\/ip\/check - reject
# > CUSTOM URL header

[Header Rewrite]
http-request ^https?:\/\/.*\.zhihu\.com\/(question|topic) header-replace User-Agent "osee2unifiedRelease/4432 osee2unifiedReleaseVersion/7.8.0 Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mo    bile/15E148"

[MITM]
# è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
skip-server-cert-verify = true
# MITM over HTTP/2
h2 = true
# ç”¨äºŽ TCP è¿žæŽ¥
hostname = firestore.googleapis.com, duckduckgo.com, *.google.cn, *.google.com.hk, sub.store, boxer.baidu.com, api.weibo.cn, mapi.weibo.com, *.uve.weibo.com, security.wechat.com, weixin110.qq.com, testflight.apple.com, pan.baidu.com, m.douban.com, h5.xiuxiu.meitu.com, api.xiuxiu.meitu.com, *.baidu.com, www.zhihu.com

[Script]
# > Flush DNS, show the DNS delay and server.

[Panel]
flushDNS = script-name=flushDNS,update-interval=-1
